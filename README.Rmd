---
output: github_document
always_allow_html: yes
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# *CCDr* a R package to extend the Complex Crises database (CDD) 

last update: `r lubridate::today()`

Toolbox to extend the *Complex Crises Database* (CCD) the underlying data of the paper:


Manuel BÃ©tin, Umberto Collodel. The Complex Crises Database: 70 Years of Macroeconomic Crises. 2021. 
https://halshs.archives-ouvertes.fr/halshs-03268889/


Find more info and download the database and raw text files from https://doi.org/10.7910/DVN/CN0PR9


Current version: 2.0.0
 
 see NEWS.md for more details on new features
 
## Installation 

The current version of the package is available on github and can be installed using the devtools package.


```{r,warning=F,message=F}
#devtools::install_github("manuelbetin/CCDr")
library(CCDr)
```

## Usage
 
The package provides several functions to compute term frequencies on the corpus of reports. Due to the different potential usages and for the necessity to handle large amounts of data several wrap up functions are provided to be able to perform the different steps one by one or sequentially.
The packages is constructed in three different blocs:

- Lexicon: define and prepare categories and keywords
- Corpus: download, explore and aggregate
- Term Frequencies: compute the indexes

The main functions are: 
 
 - **lexicon()**: provide the list of categories and keywords
 - **pdf_from_url()**: download reports in pdf formats
 - **aggregate_corpus()**: transform pdf into a dataframe of text
 - **tf_vector()**: run the term frequency on the corpus for several categories
 - **run_tf()**; run the term frequency on locally stored corpus
 - **run_tf_by_chunk()** run the term frequency directly downloading the files 
 - **run_tf_update()** update the term frequency matrix with new categories

